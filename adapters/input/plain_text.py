""" 
ğŸ“¦ Input Adapter: plain_text
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
- ë‹¤ì–‘í•œ ë°©ì‹ì˜ ì…ë ¥(text)ì„ ë°›ì•„ ì¼ê´€ëœ êµ¬ì¡°ë¡œ ë³€í™˜
- ìµœì¢… ì¶œë ¥ í˜•íƒœëŠ” í•­ìƒ: { "text": ... } (dict)

ğŸ“Œ ì‚¬ìš© ì‹œì :
- pipeline ìƒì—ì„œ "type": "input", "module": "plain_text" í˜•íƒœë¡œ ì‚¬ìš©ë¨

ğŸ“Œ ì§€ì› í˜•íƒœ:
1. ë¬¸ìì—´(str) ì…ë ¥: ê·¸ëŒ€ë¡œ textë¡œ ê°ì‹¸ê¸°
2. dict(text=...) í˜•íƒœ: ê·¸ëŒ€ë¡œ í†µê³¼
3. ì…ë ¥ì´ ì—†ê³  paramsë¡œë§Œ ë“¤ì–´ì˜¬ ê²½ìš°: íŒŒë¼ë¯¸í„° ê¸°ë°˜ ì²˜ë¦¬
"""

def run(input: any = None, **params) -> dict:
    # ğŸ“Œ run(): ë‹¤ì–‘í•œ ì…ë ¥ì„ text í•„ë“œë¡œ ì •ê·œí™”í•˜ì—¬ ë°˜í™˜í•˜ëŠ” ì–´ëŒ‘í„°

    # âœ… 1. ë¬¸ìì—´ ì…ë ¥ì¸ ê²½ìš° â†’ text í•„ë“œë¡œ ê°ì‹¸ê¸°
    if isinstance(input, str):
        return { "text": input }

    # âœ… 2. ì´ë¯¸ ì •ê·œí™”ëœ dictê°€ ë“¤ì–´ì˜¨ ê²½ìš° â†’ ê·¸ëŒ€ë¡œ ì‚¬ìš©
    if isinstance(input, dict) and "text" in input:
        return input

    # âœ… 3. ëª…ì‹œì  ì…ë ¥ì´ ì—†ê³ , textê°€ íŒŒë¼ë¯¸í„°ë¡œ ë“¤ì–´ì˜¨ ê²½ìš°
    text = params.get("text", "")

    # âœ… ë³´ì •: textê°€ strì´ ì•„ë‹ ê²½ìš° strë¡œ ê°•ì œ ë³€í™˜
    if not isinstance(text, str):
        text = str(text)

    # ğŸ“¤ ì •ê·œí™”ëœ ê²°ê³¼ ë°˜í™˜
    return { "text": text }